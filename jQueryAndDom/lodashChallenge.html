<div id="products"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.5/lodash.core.min.js"></script>
<script>
    fetch('MOCK_DATA.json').then(function(MOCK_DATA) {
        console.log("Reading in Data");
        return MOCK_DATA.json()
    }).then(function(json) {
        console.log("Convertion of Data to JSON");
        handleData(json)
    }).catch(function(err) {
        console.log(err);
    });


    function handleData(data) {
        var obj = JSON.parse(json);

        function duplicateRemoval() {
            var uniqueData = _.uniqBy(obj, 'name');

            function sortedNonRepeatedData() {
                console.log("Sorting By Category");
                var sortedData = _.sortBy(uniqueData, 'category');

                function FinalData() {
                    console.log("Chunking Data into Pairs of 5");
                    console.log("Data Before Chunk");
                    console.log(sortedData);
                    console.log("Data After Chunk");
                    console.log(_.chunk(sortedData, 5))
                }

            }

        }

    }


    /* Solution 2
    fetch('MOCK_DATA.json').then(function(MOCK_DATA) {
            console.log("Reading in Data");
            return MOCK_DATA.json()
        }).then(function(json) {
            console.log("Convertion of Data to JSON")
            handleData(json)
            // return json
        }).then(function(obj) {
            console.log("Removal of Duplicates")
            return _.uniqBy(obj, 'name');
        }).then(function(uniqueData) {
            console.log("Sorting By Category...")
            return _.sortBy(uniqueData, 'category');
        }).then(function(sortedData) {
            console.log("Chunking Data into Pairs of 10");
            console.log("Data Before Chunk");
            console.log(sortedData);
            console.log("Data After Chunk");
            console.log(_.chunk(sortedData, 10))
        }).catch(function(err) {
            console.log(err);
        });

    */



    /*
                Use this document as a starter project to solve the problems below. 
                    
                Concept: make a page that displays a list of products
                  To solve the problems below use the *Lodash* library.
                  
                Lodash is a library of helper functions and utilities for JavaScript. 
                The MOCK_DATA.json contains 1000 fake product descriptions. 
                Your job is to load this data, sort and filter it in various 
                ways. 
                The mock data is an array of objects that look like this: 
                ```json
                {
                  "id":1,
                  "name":"Duobam",
                  "description":"Implemented even-keeled info-mediaries",
                  "price":"$7.77",
                  "category":"Outdoors"
                }
                ```
                - Filter and Sort the data with Lodash
                You need to sort filter and arrange the data to make it more 
                managable.
                1) Import json data.
                  - Use fetch() to import the file MOCK_DATA.json
                  - This should give you an array of Objects. 
                 */

    // Import MOCK_DATA here:



    /*
    2) Remove duplicates.
      - Many of the entries have duplicate names. Your goal is to remove 
      all of the duplicates by keeping the first instance of a name and 
      dropping any producst with name that come after. Lodash has a method 
      for this: _.uniqBy()
    */

    // remove the duplicates with Lodash: 




    /*
    3) Sort the results on category. 
      - Again Lodash has a method for this: _.sortBy()
    */
    // Sort on category: 



    /*
    4) You might want to paginate in the future. 
      - To do this break the results into groups of 10
      - Turn your array [...] into [ [...1-10],[...11-20],[...21-30], ... ]
      - Lodash to the rescue: _.chunk()
    */

    // Chunk the array:


    /*  
    Stretch challenges:
    1) Write a test for each of the challenges above.
    2) Use reduce to transform your data array into an HTML string.  
    3) Make a new array of all categories. Each category should be unique.  
    4) Use the category list to show only products in that category.
    5) Show a detailed view of a selected product as a modal.
    6) Use these products with the shopping cart methods. The cart should. 
      - add items
      - remove items 
      - display the current contents of the cart
      - show the total cost of all items in cart
    */
</script>